{"version":3,"sources":["webpack:///./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","webpack:///./node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@loadable/component/dist/loadable.esm.js","webpack:///./src/components/Simulation/index.tsx","webpack:///./src/simulations/procedural-dungeon/util.ts","webpack:///./src/simulations/procedural-dungeon/constants.ts","webpack:///./src/simulations/procedural-dungeon/Room.ts","webpack:///./src/simulations/procedural-dungeon/ProceduralDungeon.ts","webpack:///./src/simulations/procedural-dungeon/index.ts","webpack:///./src/components/Button/index.tsx","webpack:///./src/pages/projects/simulations/procedural-dungeon.tsx","webpack:///./node_modules/react-is/index.js","webpack:///./src/components/Button/button.module.css","webpack:///./src/pages/projects/simulations/dungeon.module.css","webpack:///./node_modules/react-is/cjs/react-is.production.min.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"names":["reactIs","REACT_STATICS","childContextTypes","contextType","contextTypes","defaultProps","displayName","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","propTypes","type","KNOWN_STATICS","name","length","prototype","caller","callee","arguments","arity","MEMO_STATICS","compare","TYPE_STATICS","getStatics","component","isMemo","ForwardRef","render","Memo","defineProperty","Object","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","module","exports","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","keys","concat","targetStatics","sourceStatics","i","key","descriptor","e","_extends","assign","target","source","hasOwnProperty","call","apply","this","_assertThisInitialized","self","ReferenceError","invariant","condition","message","error","Error","framesToPop","Context","createContext","LOADABLE_SHARED","initialChunks","identity","v","createLoadable","_ref","_ref$defaultResolveCo","defaultResolveComponent","_render","onLoad","loadable","loadableConstructor","options","ctor","requireAsync","resolve","chunkName","resolveConstructor","cache","_getCacheKey","props","cacheKey","Loadable","Component","resolveComponent","preload","InnerLoadable","_React$Component","_this","state","result","loading","__chunkExtractor","requireSync","ssr","loadSync","addChunk","isReady","_proto","componentDidMount","mounted","cachedPromise","getCache","status","setCache","loadAsync","componentDidUpdate","prevProps","prevState","componentWillUnmount","safeSetState","nextState","callback","setState","getCacheKey","value","undefined","triggerOnLoad","_this2","setTimeout","console","fileName","_this3","promise","resolveAsync","then","loadedModule","_this4","_this$props","forwardedRef","_this$props2","propFallback","fallback","_this$state","suspense","ref","EnhancedInnerLoadable","createElement","Consumer","extractor","forwardRef","load","lazy","_createLoadable","__esModule","_createLoadable$1","current","children","loadable$1","lazy$1","loadable$2","lib","LoadableSimulation","Simulation","randomFromTo","min","max","Math","random","randomMiddle","Room","p5","x1","x2","y1","y2","exits","level","maxLevel","onPath","hasKey","isDungeonEntrance","isDungeonExit","strokeWeight","stroke","fill","beginShape","vertex","endShape","renderText","forEach","exit","noStroke","textSize","textAlign","CENTER","translate","rotate","PI","text","resetMatrix","isNeighbor","other","UNIT","findExits","candidates","candidate","entrance","door","Door","push","exitLevel","to","findDungeonExit","findMaxLevelDescendent","maxChild","findPath","nextEntrance","from","findNonPathExit","maxLevelExit","findPathExit","find","placeKey","room","floor","nonPathExit","pathExit","isLocked","isVertical","a1","a2","a","line","x","y","ProceduralDungeon","generateDungeon","rooms","divide","dungeonEntrance","slice","dungeonExit","numKeys","renderDungeon","background","depth","results","width","height","isEven","middleX","middleY","proceduralDungeon","buttonRef","dungeon","document","body","clientWidth","setup","createCanvas","addEventListener","preventDefault","Button","className","styles","button","ProceduralDungeonPage","useRef","Layout","title","content","legend","swatch","style","src","sketch","b","Symbol","for","c","d","f","g","h","k","l","m","n","p","q","r","t","w","z","u","$$typeof","A","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","Fragment","Lazy","Portal","Profiler","StrictMode","Suspense","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf"],"mappings":"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","file":"component---src-pages-projects-simulations-procedural-dungeon-tsx-e314ab91fbf32b42df3c.js","sourcesContent":["'use strict';\n\nvar reactIs = require('react-is');\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n\n\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\n\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import React from 'react';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport { isValidElementType } from 'react-is';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\n/* eslint-disable import/prefer-default-export */\n\nfunction invariant(condition, message) {\n  if (condition) return;\n  var error = new Error(\"loadable: \" + message);\n  error.framesToPop = 1;\n  error.name = 'Invariant Violation';\n  throw error;\n}\n\nfunction warn(message) {\n  // eslint-disable-next-line no-console\n  console.warn(\"loadable: \" + message);\n}\n\nvar Context = /*#__PURE__*/React.createContext();\nvar LOADABLE_REQUIRED_CHUNKS_KEY = '__LOADABLE_REQUIRED_CHUNKS__';\n\nfunction getRequiredChunkKey(namespace) {\n  return \"\" + namespace + LOADABLE_REQUIRED_CHUNKS_KEY;\n}\n\nvar sharedInternals = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  getRequiredChunkKey: getRequiredChunkKey,\n  invariant: invariant,\n  Context: Context\n});\nvar LOADABLE_SHARED = {\n  initialChunks: {}\n};\nvar STATUS_PENDING = 'PENDING';\nvar STATUS_RESOLVED = 'RESOLVED';\nvar STATUS_REJECTED = 'REJECTED';\n\nfunction resolveConstructor(ctor) {\n  if (typeof ctor === 'function') {\n    return {\n      requireAsync: ctor,\n      resolve: function resolve() {\n        return undefined;\n      },\n      chunkName: function chunkName() {\n        return undefined;\n      }\n    };\n  }\n\n  return ctor;\n}\n\nvar withChunkExtractor = function withChunkExtractor(Component) {\n  return function (props) {\n    return React.createElement(Context.Consumer, null, function (extractor) {\n      return React.createElement(Component, Object.assign({\n        __chunkExtractor: extractor\n      }, props));\n    });\n  };\n};\n\nvar identity = function identity(v) {\n  return v;\n};\n\nfunction createLoadable(_ref) {\n  var _ref$defaultResolveCo = _ref.defaultResolveComponent,\n      defaultResolveComponent = _ref$defaultResolveCo === void 0 ? identity : _ref$defaultResolveCo,\n      _render = _ref.render,\n      onLoad = _ref.onLoad;\n\n  function loadable(loadableConstructor, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var ctor = resolveConstructor(loadableConstructor);\n    var cache = {};\n    /**\n     * Cachekey represents the component to be loaded\n     * if key changes - component has to be reloaded\n     * @param props\n     * @returns {null|Component}\n     */\n\n    function _getCacheKey(props) {\n      if (options.cacheKey) {\n        return options.cacheKey(props);\n      }\n\n      if (ctor.resolve) {\n        return ctor.resolve(props);\n      }\n\n      return 'static';\n    }\n    /**\n     * Resolves loaded `module` to a specific `Component\n     * @param module\n     * @param props\n     * @param Loadable\n     * @returns Component\n     */\n\n\n    function resolve(module, props, Loadable) {\n      var Component = options.resolveComponent ? options.resolveComponent(module, props) : defaultResolveComponent(module);\n\n      if (options.resolveComponent && !isValidElementType(Component)) {\n        throw new Error(\"resolveComponent returned something that is not a React component!\");\n      }\n\n      hoistNonReactStatics(Loadable, Component, {\n        preload: true\n      });\n      return Component;\n    }\n\n    var InnerLoadable = /*#__PURE__*/function (_React$Component) {\n      _inheritsLoose(InnerLoadable, _React$Component);\n\n      InnerLoadable.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n        var cacheKey = _getCacheKey(props);\n\n        return _extends({}, state, {\n          cacheKey: cacheKey,\n          // change of a key triggers loading state automatically\n          loading: state.loading || state.cacheKey !== cacheKey\n        });\n      };\n\n      function InnerLoadable(props) {\n        var _this;\n\n        _this = _React$Component.call(this, props) || this;\n        _this.state = {\n          result: null,\n          error: null,\n          loading: true,\n          cacheKey: _getCacheKey(props)\n        };\n        invariant(!props.__chunkExtractor || ctor.requireSync, 'SSR requires `@loadable/babel-plugin`, please install it'); // Server-side\n\n        if (props.__chunkExtractor) {\n          // This module has been marked with no SSR\n          if (options.ssr === false) {\n            return _assertThisInitialized(_this);\n          } // We run load function, we assume that it won't fail and that it\n          // triggers a synchronous loading of the module\n\n\n          ctor.requireAsync(props)[\"catch\"](function () {\n            return null;\n          }); // So we can require now the module synchronously\n\n          _this.loadSync();\n\n          props.__chunkExtractor.addChunk(ctor.chunkName(props));\n\n          return _assertThisInitialized(_this);\n        } // Client-side with `isReady` method present (SSR probably)\n        // If module is already loaded, we use a synchronous loading\n        // Only perform this synchronous loading if the component has not\n        // been marked with no SSR, else we risk hydration mismatches\n\n\n        if (options.ssr !== false && ( // is ready - was loaded in this session\n        ctor.isReady && ctor.isReady(props) || // is ready - was loaded during SSR process\n        ctor.chunkName && LOADABLE_SHARED.initialChunks[ctor.chunkName(props)])) {\n          _this.loadSync();\n        }\n\n        return _this;\n      }\n\n      var _proto = InnerLoadable.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        this.mounted = true; // retrieve loading promise from a global cache\n\n        var cachedPromise = this.getCache(); // if promise exists, but rejected - clear cache\n\n        if (cachedPromise && cachedPromise.status === STATUS_REJECTED) {\n          this.setCache();\n        } // component might be resolved synchronously in the constructor\n\n\n        if (this.state.loading) {\n          this.loadAsync();\n        }\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n        // Component has to be reloaded on cacheKey change\n        if (prevState.cacheKey !== this.state.cacheKey) {\n          this.loadAsync();\n        }\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        this.mounted = false;\n      };\n\n      _proto.safeSetState = function safeSetState(nextState, callback) {\n        if (this.mounted) {\n          this.setState(nextState, callback);\n        }\n      }\n      /**\n       * returns a cache key for the current props\n       * @returns {Component|string}\n       */\n      ;\n\n      _proto.getCacheKey = function getCacheKey() {\n        return _getCacheKey(this.props);\n      }\n      /**\n       * access the persistent cache\n       */\n      ;\n\n      _proto.getCache = function getCache() {\n        return cache[this.getCacheKey()];\n      }\n      /**\n       * sets the cache value. If called without value sets it as undefined\n       */\n      ;\n\n      _proto.setCache = function setCache(value) {\n        if (value === void 0) {\n          value = undefined;\n        }\n\n        cache[this.getCacheKey()] = value;\n      };\n\n      _proto.triggerOnLoad = function triggerOnLoad() {\n        var _this2 = this;\n\n        if (onLoad) {\n          setTimeout(function () {\n            onLoad(_this2.state.result, _this2.props);\n          });\n        }\n      }\n      /**\n       * Synchronously loads component\n       * target module is expected to already exists in the module cache\n       * or be capable to resolve synchronously (webpack target=node)\n       */\n      ;\n\n      _proto.loadSync = function loadSync() {\n        // load sync is expecting component to be in the \"loading\" state already\n        // sounds weird, but loading=true is the initial state of InnerLoadable\n        if (!this.state.loading) return;\n\n        try {\n          var loadedModule = ctor.requireSync(this.props);\n          var result = resolve(loadedModule, this.props, Loadable);\n          this.state.result = result;\n          this.state.loading = false;\n        } catch (error) {\n          console.error('loadable-components: failed to synchronously load component, which expected to be available', {\n            fileName: ctor.resolve(this.props),\n            chunkName: ctor.chunkName(this.props),\n            error: error ? error.message : error\n          });\n          this.state.error = error;\n        }\n      }\n      /**\n       * Asynchronously loads a component.\n       */\n      ;\n\n      _proto.loadAsync = function loadAsync() {\n        var _this3 = this;\n\n        var promise = this.resolveAsync();\n        promise.then(function (loadedModule) {\n          var result = resolve(loadedModule, _this3.props, {\n            Loadable: Loadable\n          });\n\n          _this3.safeSetState({\n            result: result,\n            loading: false\n          }, function () {\n            return _this3.triggerOnLoad();\n          });\n        })[\"catch\"](function (error) {\n          return _this3.safeSetState({\n            error: error,\n            loading: false\n          });\n        });\n        return promise;\n      }\n      /**\n       * Asynchronously resolves(not loads) a component.\n       * Note - this function does not change the state\n       */\n      ;\n\n      _proto.resolveAsync = function resolveAsync() {\n        var _this4 = this;\n\n        var _this$props = this.props,\n            __chunkExtractor = _this$props.__chunkExtractor,\n            forwardedRef = _this$props.forwardedRef,\n            props = _objectWithoutPropertiesLoose(_this$props, [\"__chunkExtractor\", \"forwardedRef\"]);\n\n        var promise = this.getCache();\n\n        if (!promise) {\n          promise = ctor.requireAsync(props);\n          promise.status = STATUS_PENDING;\n          this.setCache(promise);\n          promise.then(function () {\n            promise.status = STATUS_RESOLVED;\n          }, function (error) {\n            console.error('loadable-components: failed to asynchronously load component', {\n              fileName: ctor.resolve(_this4.props),\n              chunkName: ctor.chunkName(_this4.props),\n              error: error ? error.message : error\n            });\n            promise.status = STATUS_REJECTED;\n          });\n        }\n\n        return promise;\n      };\n\n      _proto.render = function render() {\n        var _this$props2 = this.props,\n            forwardedRef = _this$props2.forwardedRef,\n            propFallback = _this$props2.fallback,\n            __chunkExtractor = _this$props2.__chunkExtractor,\n            props = _objectWithoutPropertiesLoose(_this$props2, [\"forwardedRef\", \"fallback\", \"__chunkExtractor\"]);\n\n        var _this$state = this.state,\n            error = _this$state.error,\n            loading = _this$state.loading,\n            result = _this$state.result;\n\n        if (options.suspense) {\n          var cachedPromise = this.getCache() || this.loadAsync();\n\n          if (cachedPromise.status === STATUS_PENDING) {\n            throw this.loadAsync();\n          }\n        }\n\n        if (error) {\n          throw error;\n        }\n\n        var fallback = propFallback || options.fallback || null;\n\n        if (loading) {\n          return fallback;\n        }\n\n        return _render({\n          fallback: fallback,\n          result: result,\n          options: options,\n          props: _extends({}, props, {\n            ref: forwardedRef\n          })\n        });\n      };\n\n      return InnerLoadable;\n    }(React.Component);\n\n    var EnhancedInnerLoadable = withChunkExtractor(InnerLoadable);\n    var Loadable = React.forwardRef(function (props, ref) {\n      return React.createElement(EnhancedInnerLoadable, Object.assign({\n        forwardedRef: ref\n      }, props));\n    }); // In future, preload could use `<link rel=\"preload\">`\n\n    Loadable.preload = function (props) {\n      ctor.requireAsync(props);\n    };\n\n    Loadable.load = function (props) {\n      return ctor.requireAsync(props);\n    };\n\n    return Loadable;\n  }\n\n  function lazy(ctor, options) {\n    return loadable(ctor, _extends({}, options, {\n      suspense: true\n    }));\n  }\n\n  return {\n    loadable: loadable,\n    lazy: lazy\n  };\n}\n\nfunction defaultResolveComponent(loadedModule) {\n  // eslint-disable-next-line no-underscore-dangle\n  return loadedModule.__esModule ? loadedModule[\"default\"] : loadedModule[\"default\"] || loadedModule;\n}\n/* eslint-disable no-use-before-define, react/no-multi-comp */\n\n\nvar _createLoadable = /*#__PURE__*/createLoadable({\n  defaultResolveComponent: defaultResolveComponent,\n  render: function render(_ref) {\n    var Component = _ref.result,\n        props = _ref.props;\n    return React.createElement(Component, props);\n  }\n}),\n    loadable = _createLoadable.loadable,\n    lazy = _createLoadable.lazy;\n/* eslint-disable no-use-before-define, react/no-multi-comp */\n\n\nvar _createLoadable$1 = /*#__PURE__*/createLoadable({\n  onLoad: function onLoad(result, props) {\n    if (result && props.forwardedRef) {\n      if (typeof props.forwardedRef === 'function') {\n        props.forwardedRef(result);\n      } else {\n        props.forwardedRef.current = result;\n      }\n    }\n  },\n  render: function render(_ref) {\n    var result = _ref.result,\n        props = _ref.props;\n\n    if (props.children) {\n      return props.children(result);\n    }\n\n    return null;\n  }\n}),\n    loadable$1 = _createLoadable$1.loadable,\n    lazy$1 = _createLoadable$1.lazy;\n/* eslint-disable no-underscore-dangle, camelcase */\n\n\nvar BROWSER = typeof window !== 'undefined';\n\nfunction loadableReady(done, _temp) {\n  if (done === void 0) {\n    done = function done() {};\n  }\n\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$namespace = _ref.namespace,\n      namespace = _ref$namespace === void 0 ? '' : _ref$namespace;\n\n  if (!BROWSER) {\n    warn('`loadableReady()` must be called in browser only');\n    done();\n    return Promise.resolve();\n  }\n\n  var requiredChunks = null;\n\n  if (BROWSER) {\n    var id = getRequiredChunkKey(namespace);\n    var dataElement = document.getElementById(id);\n\n    if (dataElement) {\n      requiredChunks = JSON.parse(dataElement.textContent);\n      var extElement = document.getElementById(id + \"_ext\");\n\n      if (extElement) {\n        var _JSON$parse = JSON.parse(extElement.textContent),\n            namedChunks = _JSON$parse.namedChunks;\n\n        namedChunks.forEach(function (chunkName) {\n          LOADABLE_SHARED.initialChunks[chunkName] = true;\n        });\n      } else {\n        // version mismatch\n        throw new Error('loadable-component: @loadable/server does not match @loadable/component');\n      }\n    }\n  }\n\n  if (!requiredChunks) {\n    warn('`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side');\n    done();\n    return Promise.resolve();\n  }\n\n  var resolved = false;\n  return new Promise(function (resolve) {\n    window.__LOADABLE_LOADED_CHUNKS__ = window.__LOADABLE_LOADED_CHUNKS__ || [];\n    var loadedChunks = window.__LOADABLE_LOADED_CHUNKS__;\n    var originalPush = loadedChunks.push.bind(loadedChunks);\n\n    function checkReadyState() {\n      if (requiredChunks.every(function (chunk) {\n        return loadedChunks.some(function (_ref2) {\n          var chunks = _ref2[0];\n          return chunks.indexOf(chunk) > -1;\n        });\n      })) {\n        if (!resolved) {\n          resolved = true;\n          resolve();\n        }\n      }\n    }\n\n    loadedChunks.push = function () {\n      originalPush.apply(void 0, arguments);\n      checkReadyState();\n    };\n\n    checkReadyState();\n  }).then(done);\n}\n/* eslint-disable no-underscore-dangle */\n\n\nvar loadable$2 = loadable;\nloadable$2.lib = loadable$1;\nvar lazy$2 = lazy;\nlazy$2.lib = lazy$1;\nvar __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = sharedInternals;\nexport default loadable$2;\nexport { __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED, lazy$2 as lazy, loadableReady };","import React from 'react';\nimport { SimulationProps } from './Simulation';\nimport loadable from '@loadable/component';\n\nconst LoadableSimulation = loadable(() => import('./Simulation'));\n\nexport const Simulation: React.FC<SimulationProps> = (props) => <LoadableSimulation {...props} />;\n","import { MULTIPLIER } from './constants';\n\nexport const randomFromTo = (min: number, max: number) => (max - min) * Math.random() + min;\n\nexport const randomMiddle = (min: number, max: number) =>\n  min + (max - min) * (0.5 + randomFromTo(-MULTIPLIER, MULTIPLIER));\n","export const UNIT = 8;\nexport const DEPTH = 5;\nexport const MULTIPLIER = 0.25;\nexport const MIN_WALL_LENGTH = UNIT * 6;\nexport const DOOR_HALF_WIDTH = UNIT * 1.5;\nexport const SHOW_PATH = false;\nexport const SHOW_LEVELS = false;\n\nexport const COLOR_ROOM = '#004466';\nexport const COLOR_WALL = '#00ccff';\nexport const COLOR_ENTRANCE = '#0066aa';\nexport const COLOR_EXIT = '#002244';\nexport const COLOR_PATH = '#e1d2ff';\n","import P5 from 'p5';\nimport {\n  COLOR_ENTRANCE,\n  COLOR_EXIT,\n  COLOR_PATH,\n  COLOR_ROOM,\n  COLOR_WALL,\n  DOOR_HALF_WIDTH,\n  MIN_WALL_LENGTH,\n  SHOW_LEVELS,\n  SHOW_PATH,\n  UNIT,\n} from './constants';\nimport { Direction } from './types';\nimport { randomFromTo } from './util';\n\nexport class Room {\n  x1 = 0;\n  x2 = 0;\n  y1 = 0;\n  y2 = 0;\n  exits: Door[] = [];\n  entrance?: Door;\n  level = 0;\n  maxLevel = 0;\n  onPath = false;\n  hasKey = false;\n  isDungeonEntrance = false;\n  isDungeonExit = false;\n  p5: P5;\n\n  constructor(p5: P5, x1: number, x2: number, y1: number, y2: number) {\n    this.p5 = p5;\n    this.x1 = x1;\n    this.x2 = x2;\n    this.y1 = y1;\n    this.y2 = y2;\n  }\n\n  render() {\n    this.p5.strokeWeight(1.5);\n    this.p5.stroke(COLOR_WALL);\n    if (this.isDungeonEntrance) {\n      this.p5.fill(COLOR_ENTRANCE);\n    } else if (this.isDungeonExit) {\n      this.p5.fill(COLOR_EXIT);\n    } else if (SHOW_PATH && this.onPath) {\n      this.p5.fill(COLOR_PATH);\n    } else {\n      this.p5.fill(COLOR_ROOM);\n    }\n\n    this.p5.beginShape();\n    this.p5.vertex(this.x1, this.y1);\n    this.p5.vertex(this.x2, this.y1);\n    this.p5.vertex(this.x2, this.y2);\n    this.p5.vertex(this.x1, this.y2);\n    this.p5.vertex(this.x1, this.y1);\n    this.p5.endShape();\n\n    this.renderText();\n\n    this.exits.forEach((exit) => exit.render());\n  }\n\n  renderText() {\n    this.p5.noStroke();\n    if (!SHOW_LEVELS && !this.hasKey) return;\n\n    this.p5.fill(COLOR_WALL);\n\n    this.p5.textSize(19);\n    this.p5.textAlign(this.p5.CENTER, this.p5.CENTER);\n\n    if (this.hasKey) {\n      this.p5.translate(this.x1 + (this.x2 - this.x1) / 2, this.y1 + (this.y2 - this.y1) / 2);\n      this.p5.rotate((this.p5.PI * 3) / 4);\n      this.p5.text('F', 1, -5);\n      this.p5.text('O', -1, 7);\n      this.p5.resetMatrix();\n    } else {\n      this.p5.text(\n        this.level,\n        this.x1 + (this.x2 - this.x1) / 2,\n        this.y1 + (this.y2 - this.y1) / 2,\n      );\n    }\n  }\n\n  isNeighbor(other: Room): Direction | undefined {\n    // north\n    if (\n      this.y1 === other.y2 + UNIT &&\n      other.x2 - this.x1 > MIN_WALL_LENGTH &&\n      this.x2 - other.x1 > MIN_WALL_LENGTH\n    )\n      return 'north';\n\n    // east\n    if (\n      this.x2 === other.x1 - UNIT &&\n      other.y2 - this.y1 > MIN_WALL_LENGTH &&\n      this.y2 - other.y1 > MIN_WALL_LENGTH\n    )\n      return 'east';\n\n    // south\n    if (\n      this.y2 === other.y1 - UNIT &&\n      other.x2 - this.x1 > MIN_WALL_LENGTH &&\n      this.x2 - other.x1 > MIN_WALL_LENGTH\n    )\n      return 'south';\n\n    // west\n    if (\n      this.x1 === other.x2 + UNIT &&\n      other.y2 - this.y1 > MIN_WALL_LENGTH &&\n      this.y2 - other.y1 > MIN_WALL_LENGTH\n    )\n      return 'west';\n\n    return undefined;\n  }\n\n  findExits(candidates: Room[]) {\n    if (candidates.length === 0) return this.level;\n\n    candidates.forEach((candidate) => {\n      const direction = this.isNeighbor(candidate);\n\n      // ignore non-neighbors and rooms that have already been claimed\n      // ignore 15% of valid connections\n      if (!direction || candidate.entrance || Math.random() > 0.85) {\n        return;\n      }\n\n      const door = new Door(this.p5, this, candidate);\n      this.exits.push(door);\n      candidate.entrance = door;\n      candidate.level = this.level + 1;\n    });\n\n    this.maxLevel = this.level;\n\n    this.exits.forEach((exit) => {\n      const exitLevel = exit.to.findExits(candidates);\n      if (exitLevel > this.maxLevel) this.maxLevel = exitLevel;\n    });\n\n    return this.maxLevel;\n  }\n\n  findDungeonExit() {\n    if (!this.isDungeonEntrance) return;\n\n    const exit = this.findMaxLevelDescendent();\n    exit.isDungeonExit = true;\n    return exit;\n  }\n\n  findMaxLevelDescendent(): Room {\n    if (this.exits.length === 0) return this;\n\n    let maxChild = this.exits[0].to;\n\n    this.exits.forEach((exit) => {\n      const candidate = exit.to;\n\n      if (candidate.maxLevel > maxChild.maxLevel) maxChild = candidate;\n    });\n\n    return maxChild.findMaxLevelDescendent();\n  }\n\n  findPath() {\n    if (!this.isDungeonExit) return;\n\n    let nextEntrance = this.entrance;\n\n    while (nextEntrance) {\n      nextEntrance.onPath = true;\n      nextEntrance.from.onPath = true;\n\n      nextEntrance = nextEntrance.from.entrance;\n    }\n  }\n\n  findNonPathExit() {\n    let maxLevelExit: Door | undefined;\n\n    this.exits.forEach((exit) => {\n      if (exit.onPath) return;\n\n      if (!maxLevelExit || exit.to.maxLevel > maxLevelExit.to.maxLevel) {\n        maxLevelExit = exit;\n      }\n    });\n\n    return maxLevelExit;\n  }\n\n  findPathExit() {\n    return this.exits.find((exit) => exit.onPath);\n  }\n\n  /** Returns `true` if a key was successfully placed, `false` otherwise. */\n  placeKey() {\n    if (!this.isDungeonExit) return false;\n\n    const distance = Math.floor(randomFromTo(1, this.level));\n\n    let room: Room | undefined = this;\n\n    // walk up the tree for distance levels\n    for (let i = distance; i > 0 && room?.entrance; i--) {\n      room = room?.entrance?.from;\n    }\n\n    let nonPathExit: Door | undefined = undefined;\n\n    while (!nonPathExit) {\n      nonPathExit = room?.findNonPathExit();\n\n      if (!nonPathExit) {\n        if (!room?.entrance) return false;\n\n        // walk up another level\n        room = room.entrance.from;\n      }\n    }\n\n    // place the lock\n    const pathExit = room?.findPathExit();\n\n    if (!pathExit) return false;\n\n    pathExit.isLocked = true;\n\n    const keyRoom = nonPathExit.to.findMaxLevelDescendent();\n\n    // place the key\n    keyRoom.hasKey = true;\n\n    return true;\n  }\n}\n\nexport class Door {\n  from: Room;\n  to: Room;\n  onPath = false;\n  isLocked = false;\n  isVertical = false;\n  p5: P5;\n  x1!: number;\n  x2!: number;\n  y1!: number;\n  y2!: number;\n\n  constructor(p5: P5, from: Room, to: Room) {\n    this.p5 = p5;\n    this.from = from;\n    this.to = to;\n\n    const direction = from.isNeighbor(to);\n\n    // use the direction to set isVertical and the secondary axis\n    switch (direction) {\n      case 'north':\n        this.isVertical = false;\n        this.y1 = from.y1 - UNIT;\n        this.y2 = from.y1;\n        break;\n      case 'east':\n        this.isVertical = true;\n        this.x1 = from.x2;\n        this.x2 = from.x2 + UNIT;\n        break;\n      case 'south':\n        this.isVertical = false;\n        this.y1 = from.y2;\n        this.y2 = from.y2 + UNIT;\n        break;\n      case 'west':\n        this.isVertical = true;\n        this.x1 = from.x1 - UNIT;\n        this.x2 = from.x1;\n        break;\n    }\n\n    if (this.isVertical) {\n      const a1 = Math.max(from.y1, to.y1);\n      const a2 = Math.min(from.y2, to.y2);\n      const a =\n        Math.floor(randomFromTo(a1 + DOOR_HALF_WIDTH + UNIT, a2 - DOOR_HALF_WIDTH - UNIT) / UNIT) *\n        UNIT;\n\n      this.y1 = a - DOOR_HALF_WIDTH;\n      this.y2 = a + DOOR_HALF_WIDTH;\n    } else {\n      const a1 = Math.max(from.x1, to.x1);\n      const a2 = Math.min(from.x2, to.x2);\n      const a =\n        Math.floor(randomFromTo(a1 + DOOR_HALF_WIDTH + UNIT, a2 - DOOR_HALF_WIDTH - UNIT) / UNIT) *\n        UNIT;\n      this.x1 = a - DOOR_HALF_WIDTH;\n      this.x2 = a + DOOR_HALF_WIDTH;\n    }\n  }\n\n  render() {\n    // render rooms before doors\n    this.to.render();\n\n    // render a break in the wall\n    this.p5.noStroke();\n    this.p5.fill(COLOR_ROOM);\n    if (this.isVertical) {\n      this.p5.beginShape();\n      this.p5.vertex(this.x1 - 2, this.y1);\n      this.p5.vertex(this.x2 + 2, this.y1);\n      this.p5.vertex(this.x2 + 2, this.y2);\n      this.p5.vertex(this.x1 - 2, this.y2);\n      this.p5.endShape();\n    } else {\n      this.p5.beginShape();\n      this.p5.vertex(this.x1, this.y1 - 2);\n      this.p5.vertex(this.x2, this.y1 - 2);\n      this.p5.vertex(this.x2, this.y2 + 2);\n      this.p5.vertex(this.x1, this.y2 + 2);\n      this.p5.endShape();\n    }\n\n    // render the edges of the wall\n    this.p5.stroke(COLOR_WALL);\n    this.p5.strokeWeight(1.5);\n    if (this.isVertical) {\n      this.p5.line(this.x1, this.y1, this.x2, this.y1);\n      this.p5.line(this.x1, this.y2, this.x2, this.y2);\n    } else {\n      this.p5.line(this.x1, this.y1, this.x1, this.y2);\n      this.p5.line(this.x2, this.y1, this.x2, this.y2);\n    }\n\n    if (!this.isLocked) return;\n\n    // render the locked door\n    this.p5.stroke(COLOR_WALL);\n    this.p5.strokeWeight(UNIT / 2);\n    if (this.isVertical) {\n      const x = (this.x1 + this.x2) / 2;\n      this.p5.line(x, this.y1 + 2, x, this.y2 - 2);\n    } else {\n      const y = (this.y1 + this.y2) / 2;\n      this.p5.line(this.x1 + 2, y, this.x2 - 2, y);\n    }\n  }\n}\n","import P5 from 'p5';\nimport { UNIT, MIN_WALL_LENGTH, DEPTH } from './constants';\nimport { randomFromTo, randomMiddle } from './util';\nimport { Room } from './Room';\n\nexport class ProceduralDungeon {\n  p5: P5;\n  dungeonEntrance?: Room;\n  dungeonExit?: Room;\n  maxLevel = 0;\n\n  constructor(p5: P5) {\n    this.p5 = p5;\n  }\n\n  generateDungeon() {\n    // divide the canvas into rooms\n    const rooms = this.divide(DEPTH);\n\n    this.dungeonEntrance = rooms[0];\n    this.dungeonEntrance.isDungeonEntrance = true;\n\n    // connect those rooms with doors, storing the longest path\n    this.maxLevel = this.dungeonEntrance.findExits(rooms.slice(1));\n\n    // choose an exit\n    this.dungeonExit = this.dungeonEntrance.findDungeonExit();\n\n    // find the path from the entrance to the exit\n    this.dungeonExit?.findPath();\n\n    const numKeys = Math.floor(randomFromTo(1, 4));\n\n    // place locks on doors along the path\n    for (let i = 0; i < numKeys; i++) {\n      this.dungeonExit?.placeKey();\n    }\n  }\n\n  renderDungeon() {\n    this.p5.background(0);\n    this.dungeonEntrance?.render();\n  }\n\n  divide(depth: number, room?: Room, results?: Room[]): Room[] {\n    if (!room || !results) {\n      return this.divide(\n        depth,\n        new Room(this.p5, UNIT, this.p5.width - UNIT, UNIT, this.p5.height - UNIT),\n        [],\n      );\n    }\n\n    if (depth === 0) {\n      return [...results, room];\n    }\n\n    const flip = Math.random() > 0.85; // 15% of the time, break from the normal pattern\n    const isEven = depth % 2 === 0;\n    const isVertical = flip ? isEven : !isEven;\n\n    if (isVertical) {\n      const middleX = randomMiddle(room.x1, room.x2);\n\n      if (room.x2 - (middleX + UNIT) < MIN_WALL_LENGTH || middleX - room.x1 < MIN_WALL_LENGTH) {\n        return this.divide(depth - 1, room, results);\n      }\n\n      return [\n        ...this.divide(depth - 1, new Room(this.p5, room.x1, middleX, room.y1, room.y2), results),\n        ...this.divide(\n          depth - 1,\n          new Room(this.p5, middleX + UNIT, room.x2, room.y1, room.y2),\n          results,\n        ),\n      ];\n    }\n\n    const middleY = randomMiddle(room.y1, room.y2);\n\n    if (room.y2 - (middleY + UNIT) < MIN_WALL_LENGTH || middleY - room.y1 < MIN_WALL_LENGTH) {\n      return this.divide(depth - 1, room, results);\n    }\n\n    return [\n      ...this.divide(depth - 1, new Room(this.p5, room.x1, room.x2, room.y1, middleY), results),\n      ...this.divide(\n        depth - 1,\n        new Room(this.p5, room.x1, room.x2, middleY + UNIT, room.y2),\n        results,\n      ),\n    ];\n  }\n}\n","import { RefObject } from 'react';\nimport P5 from 'p5';\nimport { ProceduralDungeon } from './ProceduralDungeon';\n\nexport const proceduralDungeon = (buttonRef: RefObject<HTMLButtonElement>) => (p5: P5) => {\n  const dungeon = new ProceduralDungeon(p5);\n  const width = Math.min(document.body.clientWidth - 100, 700);\n  // if the width is less than 662, assume we're on a vertical screen\n  const height = width < 662 ? (width * 4) / 3 : (width * 3) / 4;\n\n  p5.setup = function () {\n    p5.createCanvas(width, height);\n    p5.noStroke();\n\n    dungeon.generateDungeon();\n    dungeon.renderDungeon();\n  };\n\n  // TODO: there's got to be a better way to do this\n  buttonRef.current?.addEventListener('click', (e) => {\n    e.preventDefault();\n\n    dungeon.generateDungeon();\n    dungeon.renderDungeon();\n  });\n};\n","import React, { forwardRef } from 'react';\nimport styles from './button.module.css';\n\nexport const Button = forwardRef<HTMLButtonElement, React.ButtonHTMLAttributes<HTMLButtonElement>>(\n  ({ children, ...props }, ref) => {\n    return (\n      <button ref={ref} type=\"button\" {...props} className={styles.button}>\n        {children}\n      </button>\n    );\n  },\n);\n","import React, { useRef } from 'react';\nimport { PageProps } from 'gatsby';\nimport Layout from '../../../components/Layout';\nimport { Simulation } from '../../../components/Simulation';\nimport { proceduralDungeon } from '../../../simulations/procedural-dungeon';\nimport { COLOR_ENTRANCE, COLOR_EXIT } from '../../../simulations/procedural-dungeon/constants';\nimport styles from './dungeon.module.css';\nimport { Button } from '../../../components/Button';\n\nconst ProceduralDungeonPage: React.FC<PageProps> = () => {\n  const buttonRef = useRef<HTMLButtonElement>(null);\n\n  return (\n    <Layout title=\"Procedural Dungeon\">\n      <div className={styles.content}>\n        <h1>Procedural Dungeon</h1>A dungeon created using procedural generation. Start from the\n        light blue room and try to navigate to the dark blue room. If a locked door blocks your\n        path, find a key to open it.\n        <div className={styles.legend}>\n          <div>\n            <span className={styles.swatch} style={{ background: COLOR_ENTRANCE }} /> Entrance\n          </div>\n          <div>\n            <span className={styles.swatch} style={{ background: COLOR_EXIT }} /> Exit\n          </div>\n          <div>\n            <img className={styles.swatch} src=\"/images/dungeon_lock.png\" /> Locked door\n          </div>\n          <div>\n            <img className={styles.swatch} src=\"/images/dungeon_key.png\" /> Key\n          </div>\n        </div>\n        <h2>Demo</h2>\n        <Simulation sketch={proceduralDungeon(buttonRef)} />\n        <Button ref={buttonRef}>Generate a new dungeon</Button>\n        <h2>How it works</h2>\n        <h3>Generating rooms</h3>\n        The algorithm starts with a single large room. It chooses a random point and adds a wall to\n        split the room into two new rooms. It repeats this process with each room until the dungeon\n        is sufficiently complex.\n        <div className={styles.rooms}>\n          <img src=\"/images/dungeon_0.png\" />\n          <img src=\"/images/dungeon_1.png\" />\n          <img src=\"/images/dungeon_2.png\" />\n          <img src=\"/images/dungeon_3.png\" />\n        </div>\n        <h3>Adding doors</h3>\n        Next, the algorithm chooses a room to be the entrance. It creates a door to each neighbor at\n        a random point along the shared wall. For each newly connected room, the process is\n        repeated. The result is a tree structure of rooms starting from the dungeon entrance.\n        <h3>Choosing an exit</h3>\n        The dungeon exit is chosen to be the room at the greatest depth, that is the furthest number\n        of doors from the dungeon entrance. There is only one path from the entrance to the exit.\n        <h3>Placing keys &amp; locks</h3>\n        The dungeon will have between one and four locked doors, each along the direct path from the\n        entrance to the exit. For each locked door, a key is placed in a room further up the tree.\n      </div>\n    </Layout>\n  );\n};\n\nexport default ProceduralDungeonPage;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button-module--button--1AP7e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"dungeon-module--content--1CRg0\",\"legend\":\"dungeon-module--legend--2XZJ5\",\"swatch\":\"dungeon-module--swatch--3B54k\",\"rooms\":\"dungeon-module--rooms--2XZ_V\"};","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar b = \"function\" === typeof Symbol && Symbol.for,\n    c = b ? Symbol.for(\"react.element\") : 60103,\n    d = b ? Symbol.for(\"react.portal\") : 60106,\n    e = b ? Symbol.for(\"react.fragment\") : 60107,\n    f = b ? Symbol.for(\"react.strict_mode\") : 60108,\n    g = b ? Symbol.for(\"react.profiler\") : 60114,\n    h = b ? Symbol.for(\"react.provider\") : 60109,\n    k = b ? Symbol.for(\"react.context\") : 60110,\n    l = b ? Symbol.for(\"react.async_mode\") : 60111,\n    m = b ? Symbol.for(\"react.concurrent_mode\") : 60111,\n    n = b ? Symbol.for(\"react.forward_ref\") : 60112,\n    p = b ? Symbol.for(\"react.suspense\") : 60113,\n    q = b ? Symbol.for(\"react.suspense_list\") : 60120,\n    r = b ? Symbol.for(\"react.memo\") : 60115,\n    t = b ? Symbol.for(\"react.lazy\") : 60116,\n    v = b ? Symbol.for(\"react.block\") : 60121,\n    w = b ? Symbol.for(\"react.fundamental\") : 60117,\n    x = b ? Symbol.for(\"react.responder\") : 60118,\n    y = b ? Symbol.for(\"react.scope\") : 60119;\n\nfunction z(a) {\n  if (\"object\" === typeof a && null !== a) {\n    var u = a.$$typeof;\n\n    switch (u) {\n      case c:\n        switch (a = a.type, a) {\n          case l:\n          case m:\n          case e:\n          case g:\n          case f:\n          case p:\n            return a;\n\n          default:\n            switch (a = a && a.$$typeof, a) {\n              case k:\n              case n:\n              case t:\n              case r:\n              case h:\n                return a;\n\n              default:\n                return u;\n            }\n\n        }\n\n      case d:\n        return u;\n    }\n  }\n}\n\nfunction A(a) {\n  return z(a) === m;\n}\n\nexports.AsyncMode = l;\nexports.ConcurrentMode = m;\nexports.ContextConsumer = k;\nexports.ContextProvider = h;\nexports.Element = c;\nexports.ForwardRef = n;\nexports.Fragment = e;\nexports.Lazy = t;\nexports.Memo = r;\nexports.Portal = d;\nexports.Profiler = g;\nexports.StrictMode = f;\nexports.Suspense = p;\n\nexports.isAsyncMode = function (a) {\n  return A(a) || z(a) === l;\n};\n\nexports.isConcurrentMode = A;\n\nexports.isContextConsumer = function (a) {\n  return z(a) === k;\n};\n\nexports.isContextProvider = function (a) {\n  return z(a) === h;\n};\n\nexports.isElement = function (a) {\n  return \"object\" === typeof a && null !== a && a.$$typeof === c;\n};\n\nexports.isForwardRef = function (a) {\n  return z(a) === n;\n};\n\nexports.isFragment = function (a) {\n  return z(a) === e;\n};\n\nexports.isLazy = function (a) {\n  return z(a) === t;\n};\n\nexports.isMemo = function (a) {\n  return z(a) === r;\n};\n\nexports.isPortal = function (a) {\n  return z(a) === d;\n};\n\nexports.isProfiler = function (a) {\n  return z(a) === g;\n};\n\nexports.isStrictMode = function (a) {\n  return z(a) === f;\n};\n\nexports.isSuspense = function (a) {\n  return z(a) === p;\n};\n\nexports.isValidElementType = function (a) {\n  return \"string\" === typeof a || \"function\" === typeof a || a === e || a === m || a === g || a === f || a === p || a === q || \"object\" === typeof a && null !== a && (a.$$typeof === t || a.$$typeof === r || a.$$typeof === h || a.$$typeof === k || a.$$typeof === n || a.$$typeof === w || a.$$typeof === x || a.$$typeof === y || a.$$typeof === v);\n};\n\nexports.typeOf = z;","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"sourceRoot":""}