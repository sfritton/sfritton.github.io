{"mappings":"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","sources":["src/scripts/scroll-driver.ts","src/scripts/header.ts","src/scripts/tabs.ts","node_modules/debounce/index.js","src/scripts/confetti.ts"],"sourcesContent":["import { updateHeaderBasedOnScrollPosition } from './header';\nimport { updateSelectedTabBasedOnScrollPosition } from './tabs';\n\nlet ticking = false;\n\nconst handleScroll = () => {\n  const lastKnownScrollPosition = window.scrollY;\n\n  if (!ticking) {\n    window.requestAnimationFrame(() => {\n      updateHeaderBasedOnScrollPosition(lastKnownScrollPosition);\n      updateSelectedTabBasedOnScrollPosition(lastKnownScrollPosition);\n      ticking = false;\n    });\n\n    ticking = true;\n  }\n};\n\nhandleScroll();\n\ndocument.addEventListener('scroll', handleScroll);\n","const header = document.querySelector<HTMLElement>('header');\nconst logo = document.querySelector<HTMLElement>('.logo');\n\nconst setHeaderHeight = (height: number) => {\n  if (!header) return;\n\n  const unit = CSS.supports('height', '100svh') ? 'svh' : 'vh';\n\n  header.style.height = `${height}${unit}`;\n\n  logo?.style.setProperty('--y', `-${(12 / 100) * height}${unit}`);\n};\n\nexport const updateHeaderBasedOnScrollPosition = (scrollPosition: number) => {\n  const windowHeight = document.documentElement.clientHeight;\n  const percentOfHeight = Math.max(1 - scrollPosition / windowHeight, 0) * 100;\n  const distanceToHeaderBottom = windowHeight - scrollPosition;\n\n  setHeaderHeight(percentOfHeight);\n\n  if (!header) return;\n\n  if (percentOfHeight < 100) {\n    header.classList.add('has-scrolled');\n  } else {\n    header.classList.remove('has-scrolled');\n  }\n\n  if (distanceToHeaderBottom <= 64) {\n    header.classList.add('as-nav');\n  } else {\n    header.classList.remove('as-nav');\n  }\n};\n","import debounce from 'debounce';\n\nimport { confetti, canvas } from './confetti';\nimport { paperCleanup } from './folded-note';\n\nconst MIN_WIDTH = 668;\nconst TAB_HEIGHT = 600;\nconst HEADER_HEIGHT = 64;\nconst SELECTED_CLASS_NAME = 'selected';\n\ninterface Tab {\n  init?: () => void;\n  cleanup?: () => void;\n}\n\nconst TABS: Record<string, Tab | undefined> = {\n  // Folded Note\n  '1': {\n    cleanup: () => paperCleanup(),\n  },\n  // Confetti\n  '2': {\n    init: () => {\n      if (canvas) {\n        canvas.width = canvas.parentElement?.clientWidth ?? 300;\n        canvas.height = canvas.parentElement?.clientHeight ?? 400;\n      }\n      confetti?.createConfettis();\n      confetti?.start();\n    },\n    cleanup: () => confetti?.dispose(),\n  },\n};\n\nlet tabIndex = -1;\nlet observer: IntersectionObserver | undefined;\n\nconst tabs = document.getElementById('css-exploration');\nconst tabContents = Array.from(tabs?.querySelectorAll<HTMLDivElement & Tab>('.tab-content') ?? []);\n\ntabContents?.forEach((tab, index) => {\n  tab.init = TABS[String(index)]?.init;\n  tab.cleanup = TABS[String(index)]?.cleanup;\n});\n\nconst getIsMobile = () => {\n  const viewportWidth = Math.max(document.documentElement.clientWidth ?? 0, window.innerWidth ?? 0);\n  return viewportWidth < MIN_WIDTH;\n};\n\nexport const updateSelectedTabBasedOnScrollPosition = (scrollPosition: number) => {\n  if (!tabs || getIsMobile()) return;\n\n  const tabTitles = Array.from(tabs.querySelectorAll('.tab-title'));\n  const tabContents = Array.from(tabs.querySelectorAll('.tab-content'));\n\n  const previousTabIndex = tabIndex;\n\n  const tabListStart = tabs.offsetTop;\n  const scrollDistance = scrollPosition - tabListStart + HEADER_HEIGHT + TAB_HEIGHT / 2;\n  tabIndex = Math.floor(scrollDistance / TAB_HEIGHT);\n\n  const selectedTabTitle = tabTitles[tabIndex];\n  const selectedTabContent = tabContents[tabIndex];\n\n  // If we can't find the tab, or if it's already selected, do nothing\n  if (\n    !selectedTabTitle ||\n    selectedTabTitle.classList.contains(SELECTED_CLASS_NAME) ||\n    tabIndex === previousTabIndex\n  )\n    return;\n\n  // Update the tab & content\n  Array.from(tabs.children).forEach((tab) => tab.classList.remove(SELECTED_CLASS_NAME));\n  selectedTabTitle.classList.add(SELECTED_CLASS_NAME);\n  selectedTabContent.classList.add(SELECTED_CLASS_NAME);\n\n  // Run init & cleanup\n  TABS[String(previousTabIndex)]?.cleanup?.();\n  TABS[String(tabIndex)]?.init?.();\n};\n\nconst setupIntersectionObserver = () => {\n  if (observer || !getIsMobile()) return;\n\n  observer = new IntersectionObserver(\n    (entries: IntersectionObserverEntry[]) => {\n      if (!getIsMobile()) return;\n\n      entries.forEach((entry) => {\n        const tab = entry.target as Element & Tab;\n\n        const isTabVisible = tab.classList.contains(SELECTED_CLASS_NAME);\n\n        // tab is visible for the first time\n        if (entry.isIntersecting && !isTabVisible) {\n          tab.classList.add(SELECTED_CLASS_NAME);\n          tab.init?.();\n        }\n\n        // tab is invisible for the first time\n        else if (!entry.isIntersecting && isTabVisible) {\n          tab.classList.remove(SELECTED_CLASS_NAME);\n          tab.cleanup?.();\n        }\n      });\n    },\n    { threshold: 0.75 },\n  );\n\n  tabContents?.forEach((tab) => {\n    observer?.observe(tab);\n  });\n};\n\nsetupIntersectionObserver();\nwindow.addEventListener('resize', debounce(setupIntersectionObserver, 200));\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","// Unitless constants that can be fine-tuned until the animation looks \"right\"\nconst EXPLOSION_STRENGTH = 2000;\nconst AIR_RESISTANCE = -6;\nconst AIR_RESISTANCE_VARIANCE = AIR_RESISTANCE / 2;\nconst GRAVITY = 1000;\nconst EXPLOSION_RADIUS = 65;\nconst EXPLOSION_CENTER = { x: 200, y: 150 };\n\nconst CONFETTI_COLORS = ['#e75d5d', '#eb8a47', '#eec42e', '#84cda0', '#8aaad8', '#a98bc7'];\n\ninterface Coordinates {\n  x: number;\n  y: number;\n}\n\ninterface Particle {\n  draw(): void;\n  position: Coordinates;\n  velocity: Coordinates;\n  airResistance: number;\n  size: number;\n  tilt: number;\n  tiltAngle: number;\n  tiltAngleIncrement: number;\n  instance: ConfettiMaker;\n}\n\nconst getInitialPosition = (confettiCenter: Coordinates = EXPLOSION_CENTER): Coordinates => {\n  const r = EXPLOSION_RADIUS * Math.sqrt(Math.random());\n  const theta = Math.random() * 2 * Math.PI;\n\n  return {\n    x: confettiCenter.x + r * Math.cos(theta),\n    y: confettiCenter.y + r * Math.sin(theta),\n  };\n};\n\n/** Explode outward with a random velocity */\nconst getInitialVelocity = (\n  particlePosition: Coordinates,\n  confettiCenter: Coordinates = EXPLOSION_CENTER,\n): Coordinates => {\n  const fromCenter = {\n    x: particlePosition.x - confettiCenter.x,\n    y: particlePosition.y - confettiCenter.y + 30, // the explosion is centered a bit lower so that it's aimed up\n  };\n\n  const magnitude = Math.sqrt(fromCenter.x * fromCenter.x + fromCenter.y * fromCenter.y) || 1; // guards against dividing by 0\n\n  // get the unit vector\n  const direction = {\n    x: fromCenter.x / magnitude,\n    y: fromCenter.y / magnitude,\n  };\n\n  // choose a random speed\n  const speed = Math.random() * EXPLOSION_STRENGTH;\n\n  return {\n    x: direction.x * speed,\n    y: direction.y * speed,\n  };\n};\n\n/** Based on two timestamps, determine the length of the frame */\nconst calculateFrameLength = (currMS: number, prevMS = currMS) => (currMS - prevMS) / 1000;\n\nfunction randomFromTo(from: number, to: number) {\n  return Math.floor(Math.random() * (to - from + 1) + from);\n}\n\n// Original confetti sourced from: https://jsfiddle.net/hcxabsgh/\n\nexport class ConfettiMaker {\n  private context: CanvasRenderingContext2D | null;\n  private readonly canvas: HTMLCanvasElement;\n  private readonly duration = 3;\n  private readonly maxParticles: number;\n  private particles: Particle[] = [];\n  private readonly delay: number;\n  private elapsedTime = 0;\n  private opacity = 1;\n  private tiltAngle = 0;\n  private isAnimationComplete = true;\n  private animationHandler: number | undefined;\n  private stopConfettiTimer: number | undefined;\n\n  constructor(\n    canvas: HTMLCanvasElement,\n    config?: {\n      maxParticles?: number;\n      delay?: number;\n      center?: Coordinates;\n    },\n  ) {\n    this.canvas = canvas;\n    this.context = canvas.getContext('2d');\n    this.maxParticles = config?.maxParticles ?? 100;\n    this.delay = config?.delay ?? 0;\n  }\n\n  public get width() {\n    return this.canvas.width;\n  }\n  public get height() {\n    return this.canvas.height;\n  }\n\n  public get center(): Coordinates {\n    return {\n      x: this.width / 2,\n      y: this.height / 4,\n    };\n  }\n\n  public createConfettis() {\n    this.particles = [];\n    for (let i = 0; i < this.maxParticles; i++) {\n      this.particles.push(this.createConfettiParticle(i));\n    }\n  }\n\n  public start() {\n    this.isAnimationComplete = false;\n    this.elapsedTime = 0;\n    this.opacity = 1;\n    let prevMS: number | undefined = undefined;\n\n    const run = (currMS: number) => {\n      if (this.isAnimationComplete) return;\n\n      const deltaT = calculateFrameLength(currMS, prevMS);\n      prevMS = currMS;\n\n      this.animationHandler = requestAnimationFrame(run);\n      this.draw();\n      this.update(deltaT);\n    };\n\n    setTimeout(() => {\n      this.animationHandler = requestAnimationFrame(run);\n    }, this.delay);\n\n    this.stopConfettiTimer = setTimeout(() => {\n      this.stopConfetti();\n    }, this.delay + 5000);\n  }\n\n  private createConfettiParticle(index: number): Particle {\n    const position = getInitialPosition(this.center);\n    const velocity = getInitialVelocity(position, this.center);\n    let size = randomFromTo(10, 30);\n    let tilt = Math.floor(Math.random() * 10) - 10;\n    let tiltAngleIncrement = Math.random() * 0.07 + 0.05;\n    let tiltAngle = 0;\n    const color = CONFETTI_COLORS[index % CONFETTI_COLORS.length];\n\n    const airResistance = AIR_RESISTANCE - AIR_RESISTANCE_VARIANCE * Math.random();\n\n    return {\n      airResistance,\n      instance: this,\n      draw() {\n        if (!this.instance.context) return;\n\n        this.instance.context.beginPath();\n        this.instance.context.lineWidth = this.size / 2;\n        this.instance.context.strokeStyle = color;\n        this.instance.context.moveTo(this.position.x + this.tilt + this.size / 4, this.position.y);\n        this.instance.context.lineTo(\n          this.position.x + this.tilt,\n          this.position.y + this.tilt + this.size / 4,\n        );\n        this.instance.context.stroke();\n      },\n      position,\n      velocity,\n      size,\n      tilt,\n      tiltAngle,\n      tiltAngleIncrement,\n    };\n  }\n\n  private draw() {\n    this.context?.clearRect(0, 0, this.width, this.height);\n    if (this.context) this.context.globalAlpha = this.opacity;\n\n    for (let i = 0; i < this.maxParticles; i++) {\n      this.particles[i].draw();\n    }\n  }\n\n  private update(deltaT: number) {\n    if (this.isAnimationComplete) return;\n\n    let remainingFlakes = 0;\n    let particle: Particle;\n    this.tiltAngle = this.tiltAngle + 0.1;\n    this.elapsedTime += deltaT;\n\n    const remainingTime = this.duration - this.elapsedTime;\n\n    // start to fade out in last 2 sec of animation\n    if (remainingTime <= 2) {\n      // a number between 0 - 1\n      const percent = Math.max(remainingTime / 2, 0);\n\n      // use an \"ease-in\" timing fuction so the fade out accelerates over time\n      this.opacity = percent * percent;\n    }\n\n    for (let i = 0; i < this.maxParticles; i++) {\n      particle = this.particles[i];\n\n      this.stepParticle(particle, i, deltaT);\n\n      if (particle.position.y <= this.height) {\n        remainingFlakes++;\n      }\n    }\n\n    if (remainingFlakes === 0) {\n      this.stopConfetti();\n    }\n  }\n\n  private stepParticle(particle: Particle, particleIndex: number, deltaT: number) {\n    // Calculate forces acting on the particle:\n    // 1. Air resistance is proportional and opposite the velocity\n    // 2. Gravity is a constant downward force\n    const acceleration: Coordinates = {\n      x: particle.velocity.x * particle.airResistance,\n      y: particle.velocity.y * particle.airResistance + GRAVITY,\n    };\n\n    particle.velocity.x += acceleration.x * deltaT;\n    particle.velocity.y += acceleration.y * deltaT;\n\n    particle.position.x += particle.velocity.x * deltaT;\n    particle.position.y += particle.velocity.y * deltaT;\n\n    particle.tiltAngle += particle.tiltAngleIncrement;\n    particle.tilt = Math.sin(particle.tiltAngle - particleIndex / 3) * 15;\n  }\n\n  public clearTimers() {\n    clearTimeout(this.animationHandler);\n    clearTimeout(this.stopConfettiTimer);\n  }\n\n  private stopConfetti() {\n    this.isAnimationComplete = true;\n    this.context?.clearRect(0, 0, this.width, this.height);\n  }\n\n  public dispose() {\n    this.clearTimers();\n    this.stopConfetti();\n  }\n}\n\nexport const canvas = document.querySelector<HTMLCanvasElement>('canvas.confetti');\n\nexport const confetti = canvas ? new ConfettiMaker(canvas) : undefined;\n"],"names":[],"version":3,"file":"index.c33aa192.js.map"}