(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"5/t2":function(t,i,e){"use strict";e.d(i,"a",(function(){return r}));var n=e("dI71"),r=function(t){function i(i,e){var n;return(n=t.call(this,i)||this).verbose=!1,n.startMS=0,n.currMS=0,n.prevMS=0,n.frames=0,n.verbose=null!=e&&e,n}Object(n.a)(i,t);var e=i.prototype;return e.setup=function(){t.prototype.setup.call(this),this.currMS=this.p5.millis(),this.startMS=this.currMS,this.prevMS=this.currMS},e.calculateTime=function(){if(this.frames++,this.prevMS=this.currMS,this.currMS=this.p5.millis(),this.verbose){var t=Math.floor(this.frames/(this.currMS-this.startMS)*1e3);console.log("Running at "+t+" FPS")}return(this.currMS-this.prevMS)/1e3},i}(e("mCOQ").a)},Pz6p:function(t,i,e){"use strict";e.r(i);var n=e("q1tI"),r=e.n(n),s=e("VXBa"),o=e("u7b8"),a=e("dI71"),c=e("5/t2"),u=new(function(){function t(){this.pixelsPerMeter=0,this.screenHeight=0,this.screenWidth=0}var i=t.prototype;return i.init=function(t,i,e){void 0===e&&(e=i),this.pixelsPerMeter=t,this.screenHeight=i,this.screenWidth=e},i.transformCoordinates=function(t){var i=t.x,e=t.y;return{x:i*this.pixelsPerMeter+this.screenWidth/2,y:-e*this.pixelsPerMeter+this.screenHeight/2}},i.transformScalar=function(t){return t*this.pixelsPerMeter},t}()),h=function(){function t(t,i,e,n,r,s){this.netForces={x:0,y:0},this.p5=t,this.mass=i,this.radius=e,this.position=n,this.velocity=r,this.customColor=s}var i=t.prototype;return i.clearForces=function(){this.netForces={x:0,y:0}},i.addForce=function(t){this.netForces={x:this.netForces.x+t.x,y:this.netForces.y+t.y}},i.updatePosition=function(t){var i=this.netForces.x/this.mass,e=this.netForces.y/this.mass;this.velocity.x+=i*t,this.velocity.y+=e*t,this.position.x+=this.velocity.x*t,this.position.y+=this.velocity.y*t},i.manageCollisions=function(t){var i=this;t.forEach((function(t){if(t!==i){var e=i.position.x-t.position.x,n=i.position.y-t.position.y,r=Math.sqrt(e*e+n*n);r>=i.radius+t.radius||(i.position={x:t.position.x+e/r*i.radius+t.radius,y:t.position.y+n/r*i.radius+t.radius},i.velocity={x:i.velocity.x,y:i.velocity.y})}}))},i.render=function(){this.setColor();var t=Math.max(5,u.transformScalar(2*this.radius)),i=u.transformCoordinates(this.position);this.p5.strokeWeight(t),this.p5.point(i.x,i.y)},i.setColor=function(){if(this.customColor)this.p5.stroke(this.customColor);else{var t=Math.min(this.mass,500)/500*255;this.p5.stroke(t,200,255-t)}},t}(),l=function(t){function i(i,e,n,r){return t.call(this,i,e,n,r,{x:0,y:0})||this}return Object(a.a)(i,t),i.prototype.updatePosition=function(t){},i}(h),p=function(){function t(t,i){this.name=t,this.planetGenerator=i}return t.prototype.generatePlanets=function(t){return this.planetGenerator(t)},t}(),f=[new p("Our Solar System",(function(t){return[new l(t,3330,1.1,{x:0,y:0}),new h(t,5e-4,.1,{x:0,y:-2},{x:8.5,y:0},"#d7955f"),new h(t,.008,.1,{x:0,y:3.5},{x:-7.5,y:0},"#ef9d5c"),new h(t,.01,.1,{x:0,y:-5},{x:7.75,y:0},"#5dacdb"),new h(t,.001,.1,{x:0,y:6.5},{x:-8,y:0},"#bd3206"),new h(t,3.17,.6,{x:0,y:-9},{x:8,y:0},"#E4D0B1"),new h(t,.95,.5,{x:0,y:12},{x:-8,y:0},"#c4cf9f"),new h(t,.15,.3,{x:0,y:-14},{x:8,y:0},"#b1e5e8"),new h(t,.17,.3,{x:0,y:16},{x:-8,y:0},"#4793BF")]})),new p("Binary Solar System",(function(t){return[new h(t,3330,1.1,{x:-5,y:0},{x:0,y:5},"#ff8822"),new h(t,3330,1.5,{x:5,y:0},{x:0,y:-5}),new h(t,.01,.3,{x:0,y:8},{x:-10,y:0},"#ef9d5c"),new h(t,.01,.1,{x:0,y:-10},{x:11,y:0},"#d7955f"),new h(t,.01,.1,{x:0,y:12},{x:-11,y:0},"#5dacdb"),new h(t,.01,.5,{x:0,y:-16},{x:11,y:0},"#c4cf9f")]}))],y=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(i=t.call.apply(t,[this].concat(n))||this).planets=[],i.simulationTitle="",i}Object(a.a)(i,t);var e=i.prototype;return e.setup=function(){t.prototype.setup.call(this),u.init(this.p5.height/35,this.p5.height,this.p5.width),this.loadScenario(f[0].name)},e.loadScenario=function(t){var i=f.find((function(i){return i.name===t}));i&&(this.scenario=i,this.planets=this.scenario.generatePlanets(this.p5),this.simulationTitle=this.scenario.name,this.p5.background(0))},e.simulateFrame=function(){this.calculateForces(),this.updatePositions()},e.render=function(){this.p5.background(0,5),this.planets.forEach((function(t){return t.render()})),this.renderSimulationTitle()},e.renderSimulationTitle=function(){this.p5.textSize(16),this.p5.textFont("monospace"),this.p5.fill(255),this.p5.stroke(0),this.p5.text(this.simulationTitle,15,25)},e.calculateForces=function(){this.planets.forEach((function(t){return t.clearForces()}));for(var t=0;t<this.planets.length;t++)for(var i=this.planets[t],e=t+1;e<this.planets.length;e++){var n=this.planets[e],r=this.calculateGravity(i,n);i.addForce(r),n.addForce({x:-r.x,y:-r.y})}},e.calculateGravity=function(t,i){var e=i.position.x-t.position.x,n=i.position.y-t.position.y,r=Math.sqrt(e*e+n*n);if(0===r)return{x:0,y:0};var s=.02*t.mass*i.mass/(r*r);return{x:e*s,y:n*s}},e.updatePositions=function(){var t=this.calculateTime();this.planets.forEach((function(i){return i.updatePosition(t)}))},i}(c.a),x=function(t){return function(i){var e,n=new y(i);i.setup=function(){n.setup()},i.draw=function(){n.simulateFrame(),n.render()},null===(e=t.current)||void 0===e||e.addEventListener("change",(function(t){var i;t.preventDefault();var e=null===(i=t.target)||void 0===i?void 0:i.value;n.loadScenario(e)}))}};i.default=function(){var t=Object(n.useRef)(null);return r.a.createElement(s.a,{title:"Gravity Simulation"},r.a.createElement("h1",null,"Gravity Simulation"),r.a.createElement(o.a,{sketch:x(t)}),r.a.createElement("select",{ref:t},f.map((function(t){var i=t.name;return r.a.createElement("option",{key:i,value:i},i)}))))}}}]);
//# sourceMappingURL=component---src-pages-projects-simulations-gravity-tsx-e57ed4c311af800c4a63.js.map